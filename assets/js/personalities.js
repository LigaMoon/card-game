const data = [
    {
        row: 1,
        items: [
            {
                name: 'self-confident',
                color: 'red'
            },
            {
                name: 'structured',
                color: 'blue'
            },
            {
                name: 'self-sensitive',
                color: 'green'
            },
            {
                name: 'trusting',
                color: 'yellow'
            }
        ]
    },
    {
        row: 2,
        items: [
            {
                name: 'spontaneous',
                color: 'red'
            },
            {
                name: 'checks with others',
                color: 'yellow'
            },
            {
                name: 'dreamer',
                color: 'green'
            },
            {
                name: 'analytical',
                color: 'blue'
            }
        ]
    },
    {
        row: 3,
        items: [
            {
                name: 'likes involvment',
                color: 'yellow'
            },
            {
                name: 'likes organization',
                color: 'blue'
            },
            {
                name: 'likes being straightforward',
                color: 'red'
            },
            {
                name: 'likes to explore',
                color: 'green'
            }
        ]
    },
    {
        row: 4,
        items: [
            {
                name: 'stubborn',
                color: 'blue'
            },
            {
                name: 'dictatorial',
                color: 'red'
            },
            {
                name: 'rebellious',
                color: 'yellow'
            },
            {
                name: 'easily offended',
                color: 'green'
            }
        ]
    },
    {
        row: 5,
        items: [
            {
                name: 'demanding',
                color: 'red'
            },
            {
                name: 'nurturing',
                color: 'yellow'
            },
            {
                name: 'persistent',
                color: 'blue'
            },
            {
                name: 'quiet',
                color: 'green'
            }
        ]
    },
    {
        row: 6,
        items: [
            {
                name: 'joiner',
                color: 'yellow'
            },
            {
                name: 'likes to brainstorm',
                color: 'green'
            },
            {
                name: 'resists change',
                color: 'blue'
            },
            {
                name: 'takes charge',
                color: 'red'
            }
        ]
    },
    {
        row: 7,
        items: [
            {
                name: 'cautious',
                color: 'blue'
            },
            {
                name: 'overgenerous',
                color: 'green'
            },
            {
                name: 'harmonious',
                color: 'yellow'
            },
            {
                name: 'energetic',
                color: 'red'
            }
        ]
    },
    {
        row: 8,
        items: [
            {
                name: 'caring/helpful',
                color: 'yellow'
            },
            {
                name: 'outspoken',
                color: 'red'
            },
            {
                name: 'steadfast behaviour',
                color: 'blue'
            },
            {
                name: 'mild mannered',
                color: 'green'
            }
        ]
    },
    {
        row: 9,
        items: [
            {
                name: 'believable',
                color: 'yellow'
            },
            {
                name: 'forceful',
                color: 'red'
            },
            {
                name: 'disciplined',
                color: 'green'
            },
            {
                name: 'possessive',
                color: 'blue'
            }
        ]
    },
    {
        row: 10,
        items: [
            {
                name: 'daring',
                color: 'red'
            },
            {
                name: 'idealist',
                color: 'green'
            },
            {
                name: 'dutiful',
                color: 'yellow'
            },
            {
                name: 'playful',
                color: 'red'
            }
        ]
    },
    {
        row: 11,
        items: [
            {
                name: 'logical',
                color: 'blue'
            },
            {
                name: 'contented',
                color: 'green'
            },
            {
                name: 'friendly',
                color: 'yellow'
            },
            {
                name: 'bold/audacious',
                color: 'red'
            }
        ]
    },
    {
        row: 12,
        items: [
            {
                name: '"eager beaver"',
                color: 'red'
            },
            {
                name: 'imaginative',
                color: 'green'
            },
            {
                name: 'accurate/precise',
                color: 'blue'
            },
            {
                name: 'well liked',
                color: 'yellow'
            }
        ]
    },
    {
        row: 13,
        items: [
            {
                name: 'reserved',
                color: 'blue'
            },
            {
                name: 'inventive',
                color: 'green'
            },
            {
                name: 'charisatic',
                color: 'red'
            },
            {
                name: 'optimistic',
                color: 'yellow'
            }
        ]
    },
    {
        row: 14,
        items: [
            {
                name: 'authoritative',
                color: 'red'
            },
            {
                name: 'team worker',
                color: 'yellow'
            },
            {
                name: 'independent',
                color: 'blue'
            },
            {
                name: 'traditional',
                color: 'green'
            }
        ]
    },
    {
        row: 15,
        items: [
            {
                name: 'talkative',
                color: 'yellow'
            },
            {
                name: 'restless',
                color: 'red'
            },
            {
                name: 'conscientious',
                color: 'blue'
            },
            {
                name: 'modest/unassuming',
                color: 'green'
            }
        ]
    },
    {
        row: 16,
        items: [
            {
                name: 'leader',
                color: 'red'
            },
            {
                name: 'counsellor',
                color: 'yellow'
            },
            {
                name: 'designer',
                color: 'green'
            },
            {
                name: 'controller',
                color: 'blue'
            }
        ]
    },
    {
        row: 17,
        items: [
            {
                name: 'meticulous',
                color: 'blue'
            },
            {
                name: 'workaholic',
                color: 'red'
            },
            {
                name: 'supportive',
                color: 'yellow'
            },
            {
                name: 'self-directed',
                color: 'green'
            }
        ]
    },
    {
        row: 18,
        items: [
            {
                name: 'industrious',
                color: 'red'
            },
            {
                name: 'attentive to details',
                color: 'blue'
            },
            {
                name: 'metal imager',
                color: 'green'
            },
            {
                name: 'positive thinker',
                color: 'yellow'
            }
        ]
    },
    {
        row: 19,
        items: [
            {
                name: 'task-oriented',
                color: 'blue'
            },
            {
                name: 'people-oriented',
                color: 'yellow'
            },
            {
                name: 'idea-oriented',
                color: 'green'
            },
            {
                name: 'result-oriented',
                color: 'red'
            }
        ]
    },
    {
        row: 20,
        items: [
            {
                name: 'emotional',
                color: 'green'
            },
            {
                name: 'flexibile/adaptable',
                color: 'yellow'
            },
            {
                name: 'likes recognition',
                color: 'red'
            },
            {
                name: 'particular',
                color: 'blue'
            }
        ]
    },
    {
        row: 21,
        items: [
            {
                name: 'irritable',
                color: 'red'
            },
            {
                name: 'rigid',
                color: 'blue'
            },
            {
                name: 'easily slighted',
                color: 'green'
            },
            {
                name: 'easily threatened',
                color: 'yellow'
            }
        ]
    },
    {
        row: 22,
        items: [
            {
                name: 'indirect',
                color: 'yellow'
            },
            {
                name: 'frank/candid',
                color: 'red'
            },
            {
                name: 'careful',
                color: 'green'
            },
            {
                name: 'strict',
                color: 'blue'
            }
        ]
    },
    {
        row: 23,
        items: [
            {
                name: 'goal-oriented',
                color: 'red'
            },
            {
                name: 'capable',
                color: 'green'
            },
            {
                name: 'volunteers',
                color: 'yellow'
            },
            {
                name: 'schedule-oriented',
                color: 'blue'
            }
        ]
    },
    {
        row: 24,
        items: [
            {
                name: 'excel in crisis',
                color: 'red'
            },
            {
                name: 'likes compliments',
                color: 'yellow'
            },
            {
                name: 'dry humor',
                color: 'green'
            },
            {
                name: 'avoids causing attention',
                color: 'blue'
            }
        ]
    },
    {
        row: 25,
        items: [
            {
                name: 'likes watching people',
                color: 'green'
            },
            {
                name: 'strong-willed',
                color: 'red'
            },
            {
                name: 'enthusiastic',
                color: 'yellow'
            },
            {
                name: 'sets very high standards',
                color: 'blue'
            }
        ]
    },
    {
        row: 26,
        items: [
            {
                name: 'very self-confident',
                color: 'red'
            },
            {
                name: 'cautious in friends',
                color: 'green'
            },
            {
                name: 'thorough',
                color: 'blue'
            },
            {
                name: 'dresses in trendy ways',
                color: 'yellow'
            }
        ]
    },
    {
        row: 27,
        items: [
            {
                name: 'neat and tidy',
                color: 'blue'
            },
            {
                name: 'looks good on outside',
                color: 'yellow'
            },
            {
                name: 'avoids conflicts',
                color: 'green'
            },
            {
                name: 'usually right',
                color: 'red'
            }
        ]
    }
];

const questionContainer = document.querySelector('#question-container');
const submitBtn = document.querySelector('#submit-form');
const resetBtn = document.querySelector('#reset-button');

const results = document.querySelector('#results');

data.forEach( e => {
    let row = `<p class="question-name">${e.row}</p>
        <div>
            <input type="radio" id="${e.items[0].name}" name="row-${e.row}" value="${e.items[0].color}-${e.items[0].name}" required>
            <label for="${e.items[0].name}">${e.items[0].name}</label>
        </div>

        <div>
            <input type="radio" id="${e.items[1].name}" name="row-${e.row}" value="${e.items[1].color}-${e.items[1].name}">
            <label for="${e.items[1].name}">${e.items[1].name}</label>
        </div>

        <div>
            <input type="radio" id="${e.items[2].name}" name="row-${e.row}" value="${e.items[2].color}-${e.items[2].name}">
            <label for="${e.items[2].name}">${e.items[2].name}</label>
        </div>

        <div>
            <input type="radio" id="${e.items[3].name}" name="row-${e.row}" value="${e.items[3].color}-${e.items[3].name}">
            <label for="${e.items[3].name}">${e.items[3].name}</label>
        </div>`;
    questionContainer.innerHTML += row;
});

submitBtn.addEventListener('click', (e) => {
    let green = 0;
    let red = 0;
    let blue = 0;
    let yellow = 0;
    const inputs = document.querySelectorAll('input:checked');
    inputs.forEach( e => {
        const colorValue = e.getAttribute('value').split('-')[0];
        if ( colorValue === 'green') {
            green += 1;
        }
        else if ( colorValue === 'red') {
            red += 1;
        }
        else if ( colorValue === 'blue') {
            blue += 1;
        }
        else {
            yellow += 1;
        }
    });
    const colors = [red, blue, green, yellow];
    // const maxColorNum = Math.max(...colors);
    // let maxColorName;
    let redPerc = Math.round(red / 27 * 100, 2);
    let bluePerc = Math.round(blue / 27 * 100, 2);
    let greenPerc = Math.round(green / 27 * 100, 2);
    let yellowPerc = Math.round(yellow / 27 * 100, 2);
    if (inputs.length === 27 ) {
        submitBtn.setAttribute('disabled', true);
        results.innerHTML = `
            <div class="color-type red-type">
                <h3>Red: ${redPerc}%</h3>
                <p>REDS are strong leaders, fast paced thinkers, risk takers, purposeful, drivers, strong-willed,
                less patient, with obvious energy, formal, overtly competitive, and rational. You may recognise many of the
                qualities of REDS are in many leaders as they take ownership, need to be fast paced in their thinking, take risks and
                are purposeful and confident.</p>
            </div>
            <div class="color-type red-type">
                <h3>Blue: ${bluePerc}%</h3>
                <p>BLUES are deep thinkers, analytical in nature, very detail focused and formal in their
                thinking. They can come across as being aloof, but are deliberate in their approach and systematic, precise and pay
                attention to detail. They like things in their place, and are very organised with good time management skills. They
                are sticklers for time and are capable of coming to their own conclusions without having input from others. They
                take their time in their thinking and are much slower paced than REDS or YELLOWS. BLUES can come across as
                perfectionists due to their logical, systematic, precise and deliberate approach to problem solving. BLUES like to
                have all the facts, and then logically put together an answer.</p>
            </div>
            <div class="color-type green-type">
                <h3>Green: ${greenPerc}%</h3>
                <p>Cool, laid back relaxed and patient, best describes the personality traits of GREEN. They
                are easy to get along with and very informal in their approach. They are social & focus on relationships, so can come
                across as emotional. Much slower paced in their thinking, they are very democratic people. They are very understanding,
                and agreeable. They can sometimes say yes, when they want to say no. GREEN is the go between for REDS and
                YELLOWS who are much faster paced. They act as the facilitator in conflict resolution.</p>
            </div>
            <div class="color-type yellow-type">
                <h3>Yellow: ${yellowPerc}%</h3>
                <p>YELLOWS are the life and soul of the party. They are sociable, expressive, very
                imaginative and enthusiastic. YELLOWS are very informal, very optimistic and animated. Their imaginations can
                sometimes lead their strategizing.</p>
                <div class="personality-description">
            </div>
        `;
        redPerc = bluePerc = greenPerc = yellowPerc = 0;

        window.location.href = '#results';
    } else {
        document.querySelector('input[name="submitButton"]').click();

    }
});
